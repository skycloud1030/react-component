(this.webpackJsonp=this.webpackJsonp||[]).push([[3],{307:function(e,t,n){"use strict";n(277),n(272);var r=n(103),a=n.n(r),o=n(154),i=n.n(o),c=(n(304),n(302),n(411),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=null,r=null,a=!1,o=new Promise(function(e,t){n=function(){t("Request timed out!!")}}),i=new Promise(function(e,t){r=function(){!a&&t("Ajax Abort")}}),c=setTimeout(function(){n()},t),l=e.then(function(e){return clearTimeout(c),a=!0,e}),s=Promise.race([o,i,l]);return s.abort=r,s}),l=n(412),s=n.n(l),u=(n(323),n(413)),d=n.n(u),m=n(344),h=n.n(m),f=[{name:"machine710",ip:"127.0.0.1"},{name:"machine720",ip:"127.0.0.2"},{name:"machine510",ip:"127.0.0.3"},{name:"machine310",ip:"127.0.0.4"}],p=["System","Security","Configuration"],v=["Start compression task for 0 volumes","Apply changes; modules: iscsitarget","Change iSCSI target settings of lab07-clone","Start deduplication task for 0 volumes"],w=["Info","Warning","Error"];n.d(t,"a",function(){return b});var b=function e(){var t=this;a()(this,e),i()(this,"postAPI",function(e,n){var r={method:"post",body:JSON.stringify(n)};return t.RESTfulCall(e,r)}),i()(this,"RESTfulCall",function(e,t){return c(function(e){return new Promise(function(t){switch(e){case"/api/logs":t(d()(1e3,function(){var e=h.a.random.arrayElement(f);return{name:e.name,ip:e.ip,catalog:h.a.random.arrayElement(p),content:h.a.random.arrayElement(v),level:h.a.random.arrayElement(w),time:h.a.date.between("2019-04-20","2019-04-28")}}));break;case"/api/dashboard":t(d()(50,function(){return{name:"Machine_"+h.a.random.number()}}));break;case"/api/dashboard/state":var n=h.a.internet.ip();t({physical_total:s()(549755813888,1099511627776),physical_used:s()(549755813888,522268023193.6),healthy:h.a.random.boolean(),ip:n,ipv4:n,ipv6:h.a.internet.ipv6(),model:"P710"});break;default:t([])}})}("/api".concat(e)).then(function(e){return e.json?e.json():e}).then(function(e){return new Promise(function(t){setTimeout(function(){t(e)},100)})}).catch(function(e){return Promise.reject(e)}))})}},344:function(e,t,n){e.exports=n(263)(4)},678:function(e,t,n){},679:function(e,t,n){var r=n(680);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(89)(r,a);r.locals&&(e.exports=r.locals)},680:function(e,t,n){(t=e.exports=n(88)(!1)).push([e.i,".index_headerColumn_dZ3d6 {\n    text-transform: none;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .index_headerColumn_dZ3d6 > i {\n    vertical-align: middle;\n    margin-left: 4px;\n  }\n  .index_headerRow_2TiUv {\n    -webkit-user-select: none; /* Chrome/Safari */\n    -moz-user-select: none; /* Firefox */\n    -ms-user-select: none; /* IE10+ */\n    -o-user-select: none;\n    user-select: none;\n  }\n  .index_headerRow_2TiUv,\n  .index_evenRow_kIM2P,\n  .index_oddRow_vQQBS {\n    border-bottom: 1px solid #e0e0e0;\n  }\n  .index_evenRow_kIM2P {\n    background-color: #fafafa;\n  }\n  ",""]),t.locals={headerColumn:"index_headerColumn_dZ3d6",headerRow:"index_headerRow_2TiUv",evenRow:"index_evenRow_kIM2P",oddRow:"index_oddRow_vQQBS"}},681:function(e,t,n){var r=n(682);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(89)(r,a);r.locals&&(e.exports=r.locals)},682:function(e,t,n){(t=e.exports=n(88)(!1)).push([e.i,".index_capitalize_ZMicI {\n  text-transform: capitalize;\n}\n",""]),t.locals={capitalize:"index_capitalize_ZMicI"}},691:function(e,t,n){"use strict";n.r(t);var r=n(415),a=n.n(r),o=n(422),i=n.n(o),c=n(423),l=n.n(c),s=n(282),u=n.n(s),d=n(683),m=n.n(d),h=n(1),f=n.n(h),p=(n(420),n(305),n(21)),v=n.n(p),w=n(431),b=(n(678),n(679)),g=n.n(b);function y(e){var t=e.index;return t<0?g.a.headerRow:t%2==0?g.a.evenRow:g.a.oddRow}function E(e){var t,n=e.dataKey,r=e.label,a=e.sortBy,o=e.sortDirection;switch(!0){case a===n&&"DESC"===o:t=f.a.createElement(v.a,{type:"sort-ascending",theme:"outlined"});break;case a===n&&"ASC"===o:t=f.a.createElement(v.a,{type:"sort-descending",theme:"outlined"})}return f.a.createElement(f.a.Fragment,null,r,t)}function x(e){var t=e.rowCount,n=void 0===t?0:t,r=e.children,a=void 0===r?[]:r,o=e.headerHeight,i=e.rowHeight;return Array.isArray(a)||0!==a.length?f.a.createElement(w.d,null,function(t){var r=t.height,c=t.isScrolling,l=t.onChildScroll,s=t.scrollTop;return f.a.createElement(w.a,{disableHeight:!0},function(t){var u=t.width;return f.a.createElement(w.c,{autoHeight:!0,width:u,height:r,headerHeight:o,rowHeight:i,rowClassName:y,rowCount:n,rowGetter:e.rowGetter,isScrolling:c,onScroll:l,scrollTop:s,sort:e.sort,sortBy:e.sortBy,sortDirection:e.sortDirection},a)})}):null}x.defaultProps={sortBy:"",sortDirection:"DESC",height:300,rowHeight:30,headerHeight:35,headerClassName:"",windows:!1,rowClassName:y,prefixCls:g.a.headerColumn};var _=f.a.memo(x),C=n(264),R=function(e){var t,n;switch(l()(e)){case"fatal":case"error":t="error",e="error",n="#f5222d";break;case"warning":t="warning",n="#faad14";break;default:t="default"}return{status:t,data:e,color:n}},S=n(307),D=n(681),k=n.n(D),B={time:function(e){var t=e.cellData;return moment(t).format("MM-DD HH:mm:ss")},catalog:function(e){var t=e.cellData;return f.a.createElement("span",{className:k.a.capitalize},t)},badge:function(e){var t=e.cellData,n=R(t),r=n.data,a=n.status;return f.a.createElement(m.a,{status:a,text:f.a.createElement("span",{className:k.a.capitalize},r)})}};t.default=f.a.memo(function(){var e=Object(h.useState)(Object(C.List)([])),t=u()(e,2),n=t[0],r=t[1],o=Object(h.useState)(function(){return new S.a}),c=u()(o,1)[0],s=Object(h.useState)({sortBy:"time",sortDirection:"DESC"}),d=u()(s,2),m=d[0],p=d[1],v=Object(h.useCallback)(function(e){var t=e.sortBy,n=e.sortDirection;return p({sortBy:t,sortDirection:n})},[]);Object(h.useEffect)(function(){var e=c.RESTfulCall("/logs");return e.then(function(e){return r(Object(C.List)(e))}),function(){return e&&e.abort()}},[]);var b=Object(h.useMemo)(function(){var e=m.sortDirection,t=m.sortBy,r="desc"===l()(e)?-1:1;return n.sortBy(function(e){return e[t]},function(e,t){return e<t?-r:e>t?r:e===t?0:void 0})},[n,m.sortBy,m.sortDirection]);return f.a.createElement(a.a,null,f.a.createElement(_,{rowCount:b.size,rowGetter:function(e){var t=e.index;return b.get(t)},sort:v,sortBy:m.sortBy,sortDirection:m.sortDirection},f.a.createElement(w.b,{label:"Time",dataKey:"time",width:180,cellRenderer:B.time,headerRenderer:E}),f.a.createElement(w.b,{width:100,label:"Severity",dataKey:"level",cellRenderer:B.badge,headerRenderer:E}),f.a.createElement(w.b,{width:200,label:"Array",dataKey:"name",headerRenderer:E}),f.a.createElement(w.b,{width:200,label:"IP",dataKey:"ip",headerRenderer:E}),f.a.createElement(w.b,{width:100,label:"Catalog",dataKey:"catalog",cellRenderer:B.catalog,headerRenderer:E}),f.a.createElement(w.b,{width:600,label:"Content",dataKey:"content",headerRenderer:E})),f.a.createElement(i.a,null))})}}]);