(this.webpackJsonp=this.webpackJsonp||[]).push([[3],{280:function(e,t,a){"use strict";a(272),a(271);var n=a(97),r=a.n(n),i=a(149),o=a.n(i),c=(a(290),a(287),a(349),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,a=null,n=null,r=!1,i=new Promise(function(e,t){a=function(){t("Request timed out!!")}}),o=new Promise(function(e,t){n=function(){!r&&t("Ajax Abort")}}),c=setTimeout(function(){a()},t),l=e.then(function(e){return clearTimeout(c),r=!0,e}),s=Promise.race([i,o,l]);return s.abort=n,s}),l=a(350),s=a.n(l),u=(a(285),a(351)),m=a.n(u),f=a(292),h=a.n(f),p=[{name:"machine710",ip:"127.0.0.1"},{name:"machine720",ip:"127.0.0.2"},{name:"machine510",ip:"127.0.0.3"},{name:"machine310",ip:"127.0.0.4"}],v=["System","Security","Configuration"],d=["Start compression task for 0 volumes","Apply changes; modules: iscsitarget","Change iSCSI target settings of lab07-clone","Start deduplication task for 0 volumes"],y=["Info","Warning","Error"];a.d(t,"a",function(){return k});var k=function e(){var t=this;r()(this,e),o()(this,"postAPI",function(e,a){var n={method:"post",body:JSON.stringify(a)};return t.RESTfulCall(e,n)}),o()(this,"RESTfulCall",function(e,t){return c(function(e){return new Promise(function(t){switch(e){case"/api/logs":t(m()(1e3,function(){var e=h.a.random.arrayElement(p);return{name:e.name,ip:e.ip,catalog:h.a.random.arrayElement(v),content:h.a.random.arrayElement(d),level:h.a.random.arrayElement(y),time:h.a.date.between("2019-04-20","2019-04-28")}}));break;case"/api/dashboard":t(m()(50,function(){return{name:"Machine_"+h.a.random.number()}}));break;case"/api/dashboard/state":var a=h.a.internet.ip();t({physical_total:s()(549755813888,1099511627776),physical_used:s()(549755813888,522268023193.6),healthy:h.a.random.boolean(),ip:a,ipv4:a,ipv6:h.a.internet.ipv6(),model:"P710"});break;case"/api/monitor/disk":t({disk_list:m()(30,function(e){return{bay:e+1,capacity:s()(549755813888,1099511627776),health:s()(0,99),model:"TOSHIBA DT01ACA100",serialnumber:"2015_"+h.a.random.number()}}),power:[{key:"1.05V PCH",state:"ok",value:"1.041"},{key:"1.05V PCH",state:"ok",value:"1.218"},{key:"1.5V PCH",state:"ok",value:"1.500"},{key:"12V",state:"ok",value:"12.063"},{key:"3.3VCC",state:"ok",value:"3.316"},{key:"3.3VSB",state:"ok",value:"3.316"},{key:"5VCC",state:"ok",value:"5.026"},{key:"5VSB",state:"ok",value:"4.948"}],temperature:[{key:"P1-DIMMA1 Temp",state:"ok",value:"32.000"},{key:"P1-DIMMA2 Temp",state:"error",value:"50"},{key:"P1-DIMMB1 Temp",state:"error",value:"60.000"},{key:"P1-DIMMB2 Temp",state:"ok",value:"32.000"},{key:"P1-DIMMC1 Temp",state:"ok",value:"31.000"},{key:"P1-DIMMC2 Temp",state:"ok",value:"29.000"},{key:"P1-DIMMD1 Temp",state:"ok",value:"29.000"},{key:"P1-DIMMD2 Temp",state:"ok",value:"29.000"}],fan:[{key:"FAN1",state:"ok",value:"2700.000"},{key:"FAN2",state:"ok",value:"2700.000"},{key:"FAN3",state:"ok",value:"4000.000"},{key:"FAN4",state:"ok",value:"2700.000"},{key:"FAN5",state:"ok",value:"3800.000"},{key:"FAN5",state:"na",value:"na"},{key:"FANA",state:"na",value:"na"},{key:"FANB",state:"na",value:"na"}]});break;default:t([])}})}("/api".concat(e)).then(function(e){return e.json?e.json():e}).then(function(e){return new Promise(function(t){setTimeout(function(){t(e)},100)})}).catch(function(e){return Promise.reject(e)}))})}},292:function(e,t,a){e.exports=a(264)(4)},578:function(e,t,a){var n=a(579);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(88)(n,r);n.locals&&(e.exports=n.locals)},579:function(e,t,a){(t=e.exports=a(87)(!1)).push([e.i,".progress_center_1bEug {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 180px;\n}\n\n.progress_subTitle_3WDq- {\n  font-size: 14px;\n  margin-top: 12px;\n}\n",""]),t.locals={center:"progress_center_1bEug",subTitle:"progress_subTitle_3WDq-"}},613:function(e,t,a){var n=a(614);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(88)(n,r);n.locals&&(e.exports=n.locals)},614:function(e,t,a){(t=e.exports=a(87)(!1)).push([e.i,".machine_title_3r4gi {\n  min-height: 32px;\n}\n.machine_healthy_1TUMJ {\n  color: #52c41a;\n  margin-right: 8px;\n  font-size: 26px;\n  vertical-align: middle;\n}\n.machine_error_3n1xm {\n  color: #f5222d;\n  margin-right: 8px;\n  font-size: 26px;\n  vertical-align: middle;\n}\n.machine_loading_1Yijf {\n  color: #1890ff;\n  margin-right: 8px;\n  font-size: 26px;\n  vertical-align: middle;\n}\n",""]),t.locals={title:"machine_title_3r4gi",healthy:"machine_healthy_1TUMJ",error:"machine_error_3n1xm",loading:"machine_loading_1Yijf"}},698:function(e,t,a){"use strict";a.r(t);var n=a(355),r=a.n(n),i=a(430),o=a.n(i),c=a(648),l=a.n(c),s=a(365),u=a.n(s),m=a(278),f=a.n(m),h=a(1),p=a.n(h),v=a(313),d=a.n(v),y=a(352),k=a.n(y),b=(a(285),a(21)),g=a.n(b),E=a(594),_=a.n(E),T=a(514),x=a.n(T),j=a(515),S=a.n(j),M=a(571),w=a.n(M),A=a(341),I=a.n(A),P=a(574),C=a.n(P),N=a(575),O=a.n(N),D=a(410),F=a.n(D),V=a(578),B=a.n(V),H=a(580),R=a(106),J={error:"#f5222d",warning:"#faad14",success:"#52c41a"};var q=p.a.memo(function(e){var t=Object(H.a)({init:!0,value:0,color:J.default,total:""}),a=f()(t,2),n=a[0],r=a[1];return Object(h.useEffect)(function(){var t,a=e.capacity,n=a.physical_total,i=void 0===n?0:n,o=a.physical_used,c=void 0===o?0:o,l=O()(function(e){return C()(e,i)},function(e){return I()(e,2)},w()(100),S.a)(c);switch(!0){case l>=90:t=J.error;break;case l>=70:t=J.warning;break;case l>=0:t=J.success}r({init:!1,value:x()(l,0),text:x()(l,"N/A"),color:t,total:F()(i).format("0.[0] b")})},[e.capacity]),p.a.createElement("div",{className:B.a.center},n.init?null:p.a.createElement(R.a,{query:"(max-width: 576px)"},function(e){return p.a.createElement(_.a,{type:"circle",width:e?120:160,strokeWidth:8,strokeColor:n.color,percent:n.value,format:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:B.a.title,style:{color:n.color}},"".concat(n.text," %")),p.a.createElement("div",{className:B.a.subTitle,style:{color:n.color}},"".concat(n.total)))}})}))}),z=a(280),W=a(613),U=a.n(W);var Y=p.a.memo(function(e){var t=Object(h.useState)(function(){return new z.a}),a=f()(t,1)[0],n=Object(h.useState)(!0),r=f()(n,2),i=r[0],o=r[1],c=Object(h.useState)([]),l=f()(c,2),s=l[0],u=l[1],m=Object(h.useState)({healthy:"loading"}),v=f()(m,2),y=v[0],b=v[1];Object(h.useEffect)(function(){var e,t=a.RESTfulCall("/dashboard/state");return t.then(function(t){var a=t.physical_total,n=t.physical_used,r=t.healthy,i=t.ip;e=setTimeout(function(){u({physical_total:a,physical_used:n}),o(!1),b({healthy:r?"success":"error",ip:i})},800)}),function(){t&&t.abort(),e&&clearTimeout(e)}},[]);var E=Object(h.useMemo)(function(){var t,a=y.healthy,n=y.ip;switch(a){case"success":t=p.a.createElement(g.a,{type:"check-circle",theme:"filled",className:U.a.healthy});break;case"error":t=p.a.createElement(g.a,{type:"close-circle",theme:"filled",className:U.a.error});break;default:t=p.a.createElement(g.a,{type:"sync",spin:!0,className:U.a.loading})}return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:U.a.title},t," ",e.name),p.a.createElement("div",{className:U.a.title,style:{marginTop:8}},n?p.a.createElement(k.a,{color:"volcano"},n):null))},[e.name,y]);return p.a.createElement(d.a,{title:E,loading:i,bodyStyle:{minHeight:230}},p.a.createElement(q,{capacity:s}))}),G=a(697);function K(e){var t=Object(h.useRef)(null),a=Object(G.a)(t),n=Object(h.useState)(!1),r=f()(n,2),i=r[0],o=r[1],c=e.height,l=e.throttle,s=void 0===l?200:l;return Object(h.useEffect)(function(){var t;switch(!0){case e.unmountIfInvisible:t=setTimeout(function(){return o("visible"===a)},s);break;case"visible"===a:t=setTimeout(function(){return o(!0)},s)}return function(){return t&&clearTimeout(t)}},[a]),p.a.createElement("div",{ref:t,style:{minHeight:c,width:"100%"}},i?e.children:null)}t.default=p.a.memo(function(){var e=Object(h.useState)([]),t=f()(e,2),a=t[0],n=t[1],i=Object(h.useState)(function(){return new z.a}),c=f()(i,1)[0];return Object(h.useEffect)(function(){var e=c.RESTfulCall("/dashboard");return e.then(function(e){return n(e)}),function(){return e&&e.abort()}},[]),p.a.createElement(p.a.Fragment,null,p.a.createElement(l.a,{grid:{xxl:3,lg:2,md:1,xs:1}},p.a.createElement(o.a,{gutter:16},u()(a,function(e,t){return p.a.createElement(l.a.Item,{key:t},p.a.createElement(K,{height:340,throttle:200,unmountIfInvisible:!0},p.a.createElement(Y,e)))}))),p.a.createElement(r.a,null))})}}]);